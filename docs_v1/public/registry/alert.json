{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "alert",
  "type": "registry:ui",
  "title": "Alert",
  "description": "Alert dialog with AlertProvider and useAlert hook. Supports info, success, warning, and error types with icon indicators.",
  "dependencies": [
    "react-focus-lock",
    "lucide-react",
    "motion"
  ],
  "registryDependencies": [
    "utils",
    "button"
  ],
  "files": [
    {
      "path": "components/alert.tsx",
      "type": "registry:ui",
      "content": "\"use client\";\n\nimport { AlertTriangle, CheckCircle, Info, XCircle } from \"lucide-react\";\nimport React, { useEffect, useState } from \"react\";\nimport FocusLock from \"react-focus-lock\";\nimport { useOverlay } from \"../contexts/overlay-context\";\nimport { useEscapeKey } from \"../hooks/use-escape-key\";\nimport { Button } from \"./button\";\n\nexport type AlertType = \"info\" | \"success\" | \"warning\" | \"error\";\n\ninterface AlertProps {\n\ttitle: string;\n\tmessage: string;\n\ttype?: AlertType;\n\tconfirmText?: string;\n\tcancelText?: string;\n\tonConfirm?: () => void;\n\tonCancel?: () => void;\n\tshowCancel?: boolean;\n}\n\ninterface AlertContextValue {\n\tshowAlert: (props: AlertProps) => void;\n}\n\nconst AlertContext = React.createContext<AlertContextValue | undefined>(\n\tundefined,\n);\n\nexport function useAlert() {\n\tconst context = React.useContext(AlertContext);\n\tif (!context) {\n\t\tthrow new Error(\"useAlert must be used within AlertProvider\");\n\t}\n\treturn context;\n}\n\nexport function AlertProvider({ children }: { children: React.ReactNode }) {\n\tconst [alert, setAlert] = useState<AlertProps | null>(null);\n\tconst [isClosing, setIsClosing] = useState(false);\n\tconst [overlayId, setOverlayId] = useState<string | null>(null);\n\tconst { registerOverlay, unregisterOverlay } = useOverlay();\n\n\tconst showAlert = (props: AlertProps) => {\n\t\tsetAlert(props);\n\t\tsetIsClosing(false);\n\t};\n\n\tconst handleClose = (callback?: () => void) => {\n\t\tsetIsClosing(true);\n\t\tsetTimeout(() => {\n\t\t\tsetAlert(null);\n\t\t\tsetIsClosing(false);\n\t\t\tcallback?.();\n\t\t}, 200);\n\t};\n\n\t// Register/unregister overlay when alert opens/closes\n\tuseEffect(() => {\n\t\tif (alert && !overlayId) {\n\t\t\tconst id = registerOverlay(\"alert\", {\n\t\t\t\tblocksScroll: true,\n\t\t\t\tisFullscreen: false,\n\t\t\t});\n\t\t\tsetOverlayId(id);\n\t\t} else if (!alert && overlayId) {\n\t\t\tunregisterOverlay(overlayId);\n\t\t\tsetOverlayId(null);\n\t\t}\n\t}, [alert, overlayId, registerOverlay, unregisterOverlay]);\n\n\t// ESC key to close\n\tuseEscapeKey(() => handleClose(alert?.onCancel), !!alert);\n\n\tconst getIcon = (type: AlertType) => {\n\t\tconst iconClass = \"w-5 h-5\";\n\t\tswitch (type) {\n\t\t\tcase \"success\":\n\t\t\t\treturn <CheckCircle className={`${iconClass} text-green-400`} />;\n\t\t\tcase \"warning\":\n\t\t\t\treturn <AlertTriangle className={`${iconClass} text-yellow-400`} />;\n\t\t\tcase \"error\":\n\t\t\t\treturn <XCircle className={`${iconClass} text-red-400`} />;\n\t\t\tdefault:\n\t\t\t\treturn <Info className={`${iconClass} text-blue-400`} />;\n\t\t}\n\t};\n\n\treturn (\n\t\t<AlertContext.Provider value={{ showAlert }}>\n\t\t\t{children}\n\t\t\t{alert && (\n\t\t\t\t<FocusLock returnFocus>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`fixed inset-0 flex items-center justify-center ${\n\t\t\t\t\t\t\tisClosing\n\t\t\t\t\t\t\t\t? \"animate-out fade-out duration-200\"\n\t\t\t\t\t\t\t\t: \"animate-in fade-in duration-200\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tstyle={{ zIndex: \"var(--z-alert)\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n\t\t\t\t\t\t\taria-label={alert.cancelText || \"Dismiss alert\"}\n\t\t\t\t\t\t\tonClick={() => handleClose(alert.onCancel)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`relative bg-[rgba(30,30,31,0.95)] backdrop-blur-xl shadow-[0px_20px_30px_0px_rgba(0,0,0,0.25),0px_0px_15px_0px_rgba(0,0,0,0.1),inset_0px_0px_0px_1px_rgba(255,255,255,0.075),0px_0px_0px_1px_rgba(0,0,0,0.5)] rounded-md w-full max-w-md ${\n\t\t\t\t\t\t\t\tisClosing\n\t\t\t\t\t\t\t\t\t? \"animate-out zoom-out-95 duration-200\"\n\t\t\t\t\t\t\t\t\t: \"animate-in zoom-in-95 duration-200\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\trole=\"alertdialog\"\n\t\t\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t\t\t\taria-labelledby=\"alert-title\"\n\t\t\t\t\t\t\taria-describedby=\"alert-message\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"p-6\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-3 mb-4\">\n\t\t\t\t\t\t\t\t\t{getIcon(alert.type || \"info\")}\n\t\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\tid=\"alert-title\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-white/90 text-base font-semibold mb-1\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{alert.title}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<p id=\"alert-message\" className=\"text-white/60 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t{alert.message}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t\t\t\t{alert.showCancel && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleClose(alert.onCancel)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{alert.cancelText || \"Cancel\"}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<Button onClick={() => handleClose(alert.onConfirm)}>\n\t\t\t\t\t\t\t\t\t\t{alert.confirmText || \"OK\"}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</FocusLock>\n\t\t\t)}\n\t\t</AlertContext.Provider>\n\t);\n}\n"
    }
  ]
}