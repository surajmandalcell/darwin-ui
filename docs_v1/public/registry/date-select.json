{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "date-select",
  "type": "registry:ui",
  "title": "DateSelect",
  "description": "Date selector/picker component using react-day-picker with format utilities.",
  "dependencies": [
    "react-day-picker",
    "date-fns",
    "@radix-ui/react-popover",
    "lucide-react"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "components/date-select.tsx",
      "type": "registry:ui",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { format } from \"date-fns\";\nimport { DayPicker } from \"react-day-picker\";\nimport \"react-day-picker/style.css\";\nimport * as Dialog from \"@radix-ui/react-dialog\";\nimport * as Popover from \"@radix-ui/react-popover\";\nimport { Calendar, ChevronDown } from \"lucide-react\";\n\ntype EventType = \"single\" | \"recurring\";\ntype FrequencyType =\n\t| \"daily\"\n\t| \"weekly\"\n\t| \"monthly\"\n\t| \"weekends\"\n\t| \"specific-day\";\ntype DateMode = \"datetime\" | \"date-only\" | \"month-only\" | \"year-only\";\ntype TimeMode = \"specific-time\" | \"all-day\" | \"none\";\ntype DayOfWeek =\n\t| \"Monday\"\n\t| \"Tuesday\"\n\t| \"Wednesday\"\n\t| \"Thursday\"\n\t| \"Friday\"\n\t| \"Saturday\"\n\t| \"Sunday\";\n\nexport interface DateConfig {\n\teventType: EventType;\n\tstartDate?: Date;\n\tendDate?: Date;\n\ttime?: string; // For single events\n\tdateMode: DateMode;\n\ttimeMode?: TimeMode; // For single events\n\tfrequency?: FrequencyType;\n\tdayOfWeek?: DayOfWeek;\n\t// For recurring events - separate start and end times\n\tstartTime?: string;\n\tendTime?: string;\n\tstartTimeMode?: TimeMode;\n\tendTimeMode?: TimeMode;\n}\n\ninterface DateSelectProps {\n\tvalue?: Date;\n\tonChange?: (config: DateConfig) => void;\n\tlabel?: string;\n\tinitialConfig?: DateConfig;\n}\n\n// Dropdown component for inline selections\nfunction InlineSelect({\n\tvalue,\n\toptions,\n\tonChange,\n\tid,\n\topenPopover,\n\tsetOpenPopover,\n}: {\n\tvalue: string;\n\toptions: { value: string; label: string }[];\n\tonChange: (value: string) => void;\n\tid: string;\n\topenPopover: string | null;\n\tsetOpenPopover: (id: string | null) => void;\n}) {\n\treturn (\n\t\t<Popover.Root\n\t\t\topen={openPopover === id}\n\t\t\tonOpenChange={(open: boolean) => setOpenPopover(open ? id : null)}\n\t\t>\n\t\t\t<Popover.Trigger asChild>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 rounded text-blue-300 transition-all group\"\n\t\t\t\t>\n\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t{options.find((o) => o.value === value)?.label || value}\n\t\t\t\t\t</span>\n\t\t\t\t\t<ChevronDown className=\"w-3 h-3 opacity-60 group-hover:opacity-100\" />\n\t\t\t\t</button>\n\t\t\t</Popover.Trigger>\n\t\t\t<Popover.Portal>\n\t\t\t\t<Popover.Content\n\t\t\t\t\tclassName=\"bg-[#2a2a2a] border border-white/10 rounded-lg shadow-xl p-1 z-10000 min-w-[140px]\"\n\t\t\t\t\tsideOffset={5}\n\t\t\t\t>\n\t\t\t\t\t{options.map((option) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonChange(option.value);\n\t\t\t\t\t\t\t\tsetOpenPopover(null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 text-left text-sm rounded transition ${\n\t\t\t\t\t\t\t\tvalue === option.value\n\t\t\t\t\t\t\t\t\t? \"bg-blue-500/20 text-blue-300\"\n\t\t\t\t\t\t\t\t\t: \"text-white/70 hover:bg-white/10 hover:text-white\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</Popover.Content>\n\t\t\t</Popover.Portal>\n\t\t</Popover.Root>\n\t);\n}\n\n// Date picker component\nfunction DatePickerButton({\n\tdate,\n\tonChange,\n\tplaceholder,\n\tid,\n\tdateMode,\n\topenPopover,\n\tsetOpenPopover,\n}: {\n\tdate?: Date;\n\tonChange: (date: Date | undefined) => void;\n\tplaceholder: string;\n\tid: string;\n\tdateMode: DateMode;\n\topenPopover: string | null;\n\tsetOpenPopover: (id: string | null) => void;\n}) {\n\treturn (\n\t\t<Popover.Root\n\t\t\topen={openPopover === id}\n\t\t\tonOpenChange={(open: boolean) => setOpenPopover(open ? id : null)}\n\t\t>\n\t\t\t<Popover.Trigger asChild>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 rounded text-blue-300 transition-all group\"\n\t\t\t\t>\n\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t{date\n\t\t\t\t\t\t\t? dateMode === \"month-only\"\n\t\t\t\t\t\t\t\t? format(date, \"MMMM yyyy\")\n\t\t\t\t\t\t\t\t: dateMode === \"year-only\"\n\t\t\t\t\t\t\t\t\t? format(date, \"yyyy\")\n\t\t\t\t\t\t\t\t\t: format(date, \"MMM dd, yyyy\")\n\t\t\t\t\t\t\t: placeholder}\n\t\t\t\t\t</span>\n\t\t\t\t\t<ChevronDown className=\"w-3 h-3 opacity-60 group-hover:opacity-100\" />\n\t\t\t\t</button>\n\t\t\t</Popover.Trigger>\n\t\t\t<Popover.Portal>\n\t\t\t\t<Popover.Content\n\t\t\t\t\tclassName=\"bg-[#2a2a2a] border border-white/10 rounded-lg shadow-xl p-4 z-10000\"\n\t\t\t\t\tsideOffset={5}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"rdp-custom\">\n\t\t\t\t\t\t<style>{`\n              .rdp-custom {\n                --rdp-accent-color: #3b82f6;\n                --rdp-background-color: rgba(59, 130, 246, 0.1);\n              }\n              .rdp-custom .rdp {\n                margin: 0;\n                color: rgba(255, 255, 255, 0.9);\n              }\n              .rdp-custom .rdp-month_caption {\n                color: rgba(255, 255, 255, 0.9);\n                font-weight: 500;\n                margin-bottom: 0.5rem;\n              }\n              .rdp-custom .rdp-day {\n                color: rgba(255, 255, 255, 0.7);\n                border-radius: 4px;\n              }\n              .rdp-custom .rdp-day:hover:not(.rdp-day_selected) {\n                background-color: rgba(255, 255, 255, 0.1);\n              }\n              .rdp-custom .rdp-day_selected {\n                background-color: #3b82f6;\n                color: white;\n              }\n              .rdp-custom .rdp-day_outside {\n                opacity: 0.3;\n              }\n              .rdp-custom .rdp-button:hover:not([disabled]) {\n                background-color: rgba(255, 255, 255, 0.1);\n              }\n              .rdp-custom .rdp-weekday {\n                color: rgba(255, 255, 255, 0.5);\n                font-size: 0.75rem;\n                font-weight: 500;\n              }\n            `}</style>\n\t\t\t\t\t\t<DayPicker\n\t\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\tonSelect={onChange}\n\t\t\t\t\t\t\tcaptionLayout={\n\t\t\t\t\t\t\t\tdateMode === \"month-only\" ? \"dropdown-months\" : \"label\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowOutsideDays\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover.Content>\n\t\t\t</Popover.Portal>\n\t\t</Popover.Root>\n\t);\n}\n\n// Time picker component\nfunction TimePickerButton({\n\ttime,\n\tonChange,\n\tid,\n\topenPopover,\n\tsetOpenPopover,\n\tplaceholder = \"09:00\",\n}: {\n\ttime?: string;\n\tonChange: (time: string) => void;\n\tid: string;\n\topenPopover: string | null;\n\tsetOpenPopover: (id: string | null) => void;\n\tplaceholder?: string;\n}) {\n\treturn (\n\t\t<Popover.Root\n\t\t\topen={openPopover === id}\n\t\t\tonOpenChange={(open: boolean) => setOpenPopover(open ? id : null)}\n\t\t>\n\t\t\t<Popover.Trigger asChild>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 rounded text-blue-300 transition-all group\"\n\t\t\t\t>\n\t\t\t\t\t<span className=\"font-medium\">{time || placeholder}</span>\n\t\t\t\t\t<ChevronDown className=\"w-3 h-3 opacity-60 group-hover:opacity-100\" />\n\t\t\t\t</button>\n\t\t\t</Popover.Trigger>\n\t\t\t<Popover.Portal>\n\t\t\t\t<Popover.Content\n\t\t\t\t\tclassName=\"bg-[#2a2a2a] border border-white/10 rounded-lg shadow-xl p-3 z-10000\"\n\t\t\t\t\tsideOffset={5}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\tvalue={time || \"\"}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tonChange(e.target.value);\n\t\t\t\t\t\t\tsetOpenPopover(null);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"px-3 py-2 bg-white/5 border border-white/10 rounded text-white/90 focus:outline-none focus:border-blue-500\"\n\t\t\t\t\t/>\n\t\t\t\t</Popover.Content>\n\t\t\t</Popover.Portal>\n\t\t</Popover.Root>\n\t);\n}\n\n// Helper to safely parse dates from various formats\nfunction parseDate(dateValue: any): Date | undefined {\n\tif (!dateValue) return undefined;\n\n\t// If it's already a Date object\n\tif (dateValue instanceof Date) {\n\t\t// Check if it's a valid date\n\t\treturn isNaN(dateValue.getTime()) ? undefined : dateValue;\n\t}\n\n\t// If it's a Firestore Timestamp\n\tif (dateValue?.toDate && typeof dateValue.toDate === \"function\") {\n\t\treturn dateValue.toDate();\n\t}\n\n\t// If it's a string or number, try to parse it\n\tconst parsed = new Date(dateValue);\n\treturn isNaN(parsed.getTime()) ? undefined : parsed;\n}\n\nexport function DateSelect({\n\tvalue,\n\tonChange,\n\tlabel,\n\tinitialConfig,\n}: DateSelectProps) {\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [eventType, setEventType] = useState<EventType>(\n\t\tinitialConfig?.eventType || \"single\",\n\t);\n\tconst [frequency, setFrequency] = useState<FrequencyType>(\n\t\tinitialConfig?.frequency || \"weekly\",\n\t);\n\tconst [dayOfWeek, setDayOfWeek] = useState<DayOfWeek>(\n\t\tinitialConfig?.dayOfWeek || \"Monday\",\n\t);\n\tconst [dateMode, setDateMode] = useState<DateMode>(\n\t\tinitialConfig?.dateMode || \"datetime\",\n\t);\n\tconst [timeMode, setTimeMode] = useState<TimeMode>(\n\t\tinitialConfig?.timeMode || \"specific-time\",\n\t);\n\tconst [startDate, setStartDate] = useState<Date | undefined>(\n\t\tinitialConfig?.startDate\n\t\t\t? parseDate(initialConfig.startDate)\n\t\t\t: value\n\t\t\t\t? parseDate(value)\n\t\t\t\t: undefined,\n\t);\n\tconst [endDate, setEndDate] = useState<Date | undefined>(\n\t\tinitialConfig?.endDate ? parseDate(initialConfig.endDate) : undefined,\n\t);\n\tconst [time, setTime] = useState<string | undefined>(\n\t\tinitialConfig?.time && initialConfig.timeMode === \"specific-time\"\n\t\t\t? initialConfig.time\n\t\t\t: undefined,\n\t);\n\n\t// For recurring events - separate start and end times\n\tconst [startTime, setStartTime] = useState<string | undefined>(\n\t\tinitialConfig?.startTime && initialConfig.startTimeMode === \"specific-time\"\n\t\t\t? initialConfig.startTime\n\t\t\t: undefined,\n\t);\n\tconst [endTime, setEndTime] = useState<string | undefined>(\n\t\tinitialConfig?.endTime && initialConfig.endTimeMode === \"specific-time\"\n\t\t\t? initialConfig.endTime\n\t\t\t: undefined,\n\t);\n\tconst [startTimeMode, setStartTimeMode] = useState<TimeMode>(\n\t\tinitialConfig?.startTimeMode || \"none\",\n\t);\n\tconst [endTimeMode, setEndTimeMode] = useState<TimeMode>(\n\t\tinitialConfig?.endTimeMode || \"none\",\n\t);\n\n\tconst [openPopover, setOpenPopover] = useState<string | null>(null);\n\n\tconst handleUpdate = (updates: Partial<DateConfig>) => {\n\t\tconst config: DateConfig = {\n\t\t\teventType,\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t\ttime:\n\t\t\t\ttimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: timeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: time || \"09:00\",\n\t\t\tdateMode,\n\t\t\ttimeMode,\n\t\t\tfrequency,\n\t\t\tdayOfWeek,\n\t\t\t// For recurring events\n\t\t\tstartTime:\n\t\t\t\tstartTimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: startTimeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: startTime || \"09:00\",\n\t\t\tendTime:\n\t\t\t\tendTimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: endTimeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: endTime || \"17:00\",\n\t\t\tstartTimeMode,\n\t\t\tendTimeMode,\n\t\t\t...updates,\n\t\t};\n\t\tonChange?.(config);\n\t};\n\n\tconst handleEventTypeChange = (type: EventType) => {\n\t\tsetEventType(type);\n\t\thandleUpdate({ eventType: type });\n\t};\n\n\tconst handleFrequencyChange = (freq: FrequencyType) => {\n\t\tsetFrequency(freq);\n\t\thandleUpdate({ frequency: freq });\n\t};\n\n\tconst handleDayOfWeekChange = (day: DayOfWeek) => {\n\t\tsetDayOfWeek(day);\n\t\thandleUpdate({ dayOfWeek: day });\n\t};\n\n\tconst handleDateModeChange = (mode: DateMode) => {\n\t\tsetDateMode(mode);\n\t\thandleUpdate({ dateMode: mode });\n\t};\n\n\tconst handleTimeModeChange = (mode: TimeMode) => {\n\t\tsetTimeMode(mode);\n\t\tif (mode === \"none\") {\n\t\t\tsetTime(undefined);\n\t\t} else if (mode === \"specific-time\" && !time) {\n\t\t\tsetTime(\"09:00\");\n\t\t}\n\t\thandleUpdate({ timeMode: mode });\n\t};\n\n\tconst handleStartTimeModeChange = (mode: TimeMode) => {\n\t\tsetStartTimeMode(mode);\n\t\tif (mode === \"none\") {\n\t\t\tsetStartTime(undefined);\n\t\t} else if (mode === \"specific-time\" && !startTime) {\n\t\t\tsetStartTime(\"09:00\");\n\t\t}\n\t\thandleUpdate({ startTimeMode: mode });\n\t};\n\n\tconst handleEndTimeModeChange = (mode: TimeMode) => {\n\t\tsetEndTimeMode(mode);\n\t\tif (mode === \"none\") {\n\t\t\tsetEndTime(undefined);\n\t\t} else if (mode === \"specific-time\" && !endTime) {\n\t\t\tsetEndTime(\"17:00\");\n\t\t}\n\t\thandleUpdate({ endTimeMode: mode });\n\t};\n\n\tconst handleStartDateChange = (date: Date | undefined) => {\n\t\tsetStartDate(date);\n\t\thandleUpdate({ startDate: date });\n\t\tsetOpenPopover(null);\n\t};\n\n\tconst handleEndDateChange = (date: Date | undefined) => {\n\t\tsetEndDate(date);\n\t\thandleUpdate({ endDate: date });\n\t\tsetOpenPopover(null);\n\t};\n\n\tconst handleTimeChange = (newTime: string) => {\n\t\tsetTime(newTime);\n\t\thandleUpdate({ time: newTime });\n\t};\n\n\tconst handleStartTimeChange = (newTime: string) => {\n\t\tsetStartTime(newTime);\n\t\thandleUpdate({ startTime: newTime });\n\t};\n\n\tconst handleEndTimeChange = (newTime: string) => {\n\t\tsetEndTime(newTime);\n\t\thandleUpdate({ endTime: newTime });\n\t};\n\n\tconst handleConfirm = () => {\n\t\thandleUpdate({\n\t\t\teventType,\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t\ttime:\n\t\t\t\ttimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: timeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: time || \"09:00\",\n\t\t\tdateMode,\n\t\t\ttimeMode,\n\t\t\tfrequency,\n\t\t\tdayOfWeek,\n\t\t\tstartTime:\n\t\t\t\tstartTimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: startTimeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: startTime || \"09:00\",\n\t\t\tendTime:\n\t\t\t\tendTimeMode === \"all-day\"\n\t\t\t\t\t? \"00:00\"\n\t\t\t\t\t: endTimeMode === \"none\"\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: endTime || \"17:00\",\n\t\t\tstartTimeMode,\n\t\t\tendTimeMode,\n\t\t});\n\t\tsetIsOpen(false);\n\t};\n\n\t// Format display value for the button\n\tconst formatDisplayValue = () => {\n\t\tif (!startDate) return \"Select date\";\n\n\t\t// Parse dates to ensure they're valid\n\t\tconst parsedStart = parseDate(startDate);\n\t\tif (!parsedStart) return \"Select date\";\n\n\t\tconst timeDisplay =\n\t\t\ttimeMode === \"none\" || timeMode === \"all-day\"\n\t\t\t\t? \"\"\n\t\t\t\t: time\n\t\t\t\t\t? ` at ${time}`\n\t\t\t\t\t: \"\";\n\n\t\ttry {\n\t\t\tif (eventType === \"single\") {\n\t\t\t\tif (dateMode === \"datetime\") {\n\t\t\t\t\treturn `${format(parsedStart, \"MMM dd, yyyy\")}${timeDisplay}`;\n\t\t\t\t}\n\t\t\t\tif (dateMode === \"date-only\") {\n\t\t\t\t\treturn format(parsedStart, \"MMM dd, yyyy\");\n\t\t\t\t}\n\t\t\t\tif (dateMode === \"month-only\") {\n\t\t\t\t\treturn format(parsedStart, \"MMMM yyyy\");\n\t\t\t\t}\n\t\t\t\tif (dateMode === \"year-only\") {\n\t\t\t\t\treturn format(parsedStart, \"yyyy\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (eventType === \"recurring\") {\n\t\t\t\tconst parsedEnd = endDate ? parseDate(endDate) : null;\n\n\t\t\t\t// Build time info for start and end\n\t\t\t\tconst startTimeInfo =\n\t\t\t\t\tdateMode === \"datetime\" &&\n\t\t\t\t\tstartTimeMode !== \"none\" &&\n\t\t\t\t\tstartTimeMode !== \"all-day\" &&\n\t\t\t\t\tstartTime\n\t\t\t\t\t\t? ` at ${startTime}`\n\t\t\t\t\t\t: \"\";\n\t\t\t\tconst endTimeInfo =\n\t\t\t\t\tparsedEnd &&\n\t\t\t\t\tdateMode === \"datetime\" &&\n\t\t\t\t\tendTimeMode !== \"none\" &&\n\t\t\t\t\tendTimeMode !== \"all-day\" &&\n\t\t\t\t\tendTime\n\t\t\t\t\t\t? ` at ${endTime}`\n\t\t\t\t\t\t: \"\";\n\n\t\t\t\tif (frequency === \"specific-day\") {\n\t\t\t\t\tconst dayLabel = `${dayOfWeek}s`;\n\t\t\t\t\treturn parsedEnd\n\t\t\t\t\t\t? `${dayLabel} from ${format(parsedStart, \"MMM dd\")}${startTimeInfo} to ${format(parsedEnd, \"MMM dd\")}${endTimeInfo}`\n\t\t\t\t\t\t: `Every ${dayOfWeek}${startTimeInfo}`;\n\t\t\t\t}\n\t\t\t\tif (frequency === \"weekends\") {\n\t\t\t\t\treturn parsedEnd\n\t\t\t\t\t\t? `Weekends from ${format(parsedStart, \"MMM dd\")}${startTimeInfo} to ${format(parsedEnd, \"MMM dd\")}${endTimeInfo}`\n\t\t\t\t\t\t: `Every weekend${startTimeInfo}`;\n\t\t\t\t}\n\t\t\t\tconst freqLabel =\n\t\t\t\t\tfrequency === \"daily\"\n\t\t\t\t\t\t? \"Daily\"\n\t\t\t\t\t\t: frequency === \"weekly\"\n\t\t\t\t\t\t\t? \"Weekly\"\n\t\t\t\t\t\t\t: \"Monthly\";\n\t\t\t\treturn parsedEnd\n\t\t\t\t\t? `${freqLabel} from ${format(parsedStart, \"MMM dd\")}${startTimeInfo} to ${format(parsedEnd, \"MMM dd\")}${endTimeInfo}`\n\t\t\t\t\t: `Every ${frequency === \"daily\" ? \"day\" : frequency === \"weekly\" ? \"week\" : \"month\"}${startTimeInfo}`;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error formatting date:\", error);\n\t\t\treturn \"Invalid date\";\n\t\t}\n\n\t\treturn \"Select date\";\n\t};\n\n\t// Render the questionnaire sentence\n\tconst renderQuestionnaire = () => {\n\t\t// Mode selector first\n\t\tconst modeOptions = [\n\t\t\t{ value: \"datetime\", label: \"Date & Time\" },\n\t\t\t{ value: \"date-only\", label: \"Date Only\" },\n\t\t\t{ value: \"month-only\", label: \"Month Only\" },\n\t\t\t{ value: \"year-only\", label: \"Year Only\" },\n\t\t];\n\n\t\tconst timeModeOptions = [\n\t\t\t{ value: \"none\", label: \"None\" },\n\t\t\t{ value: \"specific-time\", label: \"Specific time\" },\n\t\t\t{ value: \"all-day\", label: \"All day\" },\n\t\t];\n\n\t\tif (eventType === \"single\") {\n\t\t\tif (dateMode === \"datetime\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\tvalue={dateMode}\n\t\t\t\t\t\t\toptions={modeOptions}\n\t\t\t\t\t\t\tonChange={(v) => handleDateModeChange(v as DateMode)}\n\t\t\t\t\t\t\tid=\"date-mode\"\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>on</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<select date>\"\n\t\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{timeMode === \"specific-time\" ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span>at</span>\n\t\t\t\t\t\t\t\t<TimePickerButton\n\t\t\t\t\t\t\t\t\ttime={time}\n\t\t\t\t\t\t\t\t\tonChange={handleTimeChange}\n\t\t\t\t\t\t\t\t\tid=\"time\"\n\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span>-</span>\n\t\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\t\tvalue={timeMode}\n\t\t\t\t\t\t\t\t\toptions={timeModeOptions}\n\t\t\t\t\t\t\t\t\tonChange={(v) => handleTimeModeChange(v as TimeMode)}\n\t\t\t\t\t\t\t\t\tid=\"time-mode\"\n\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (dateMode === \"date-only\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\tvalue={dateMode}\n\t\t\t\t\t\t\toptions={modeOptions}\n\t\t\t\t\t\t\tonChange={(v) => handleDateModeChange(v as DateMode)}\n\t\t\t\t\t\t\tid=\"date-mode\"\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>on</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<select date>\"\n\t\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (dateMode === \"month-only\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\tvalue={dateMode}\n\t\t\t\t\t\t\toptions={modeOptions}\n\t\t\t\t\t\t\tonChange={(v) => handleDateModeChange(v as DateMode)}\n\t\t\t\t\t\t\tid=\"date-mode\"\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>in</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<select month>\"\n\t\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (dateMode === \"year-only\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\tvalue={dateMode}\n\t\t\t\t\t\t\toptions={modeOptions}\n\t\t\t\t\t\t\tonChange={(v) => handleDateModeChange(v as DateMode)}\n\t\t\t\t\t\t\tid=\"date-mode\"\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>in</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<select year>\"\n\t\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (eventType === \"recurring\") {\n\t\t\tconst frequencyOptions = [\n\t\t\t\t{ value: \"daily\", label: \"day\" },\n\t\t\t\t{ value: \"weekly\", label: \"week\" },\n\t\t\t\t{ value: \"monthly\", label: \"month\" },\n\t\t\t\t{ value: \"weekends\", label: \"weekend\" },\n\t\t\t\t{ value: \"specific-day\", label: \"specific day\" },\n\t\t\t];\n\n\t\t\tconst dayOptions: { value: DayOfWeek; label: string }[] = [\n\t\t\t\t{ value: \"Monday\", label: \"Monday\" },\n\t\t\t\t{ value: \"Tuesday\", label: \"Tuesday\" },\n\t\t\t\t{ value: \"Wednesday\", label: \"Wednesday\" },\n\t\t\t\t{ value: \"Thursday\", label: \"Thursday\" },\n\t\t\t\t{ value: \"Friday\", label: \"Friday\" },\n\t\t\t\t{ value: \"Saturday\", label: \"Saturday\" },\n\t\t\t\t{ value: \"Sunday\", label: \"Sunday\" },\n\t\t\t];\n\n\t\t\tif (frequency === \"specific-day\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t\t<span>Every</span>\n\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\tvalue={dayOfWeek}\n\t\t\t\t\t\t\toptions={dayOptions}\n\t\t\t\t\t\t\tonChange={(v) => handleDayOfWeekChange(v as DayOfWeek)}\n\t\t\t\t\t\t\tid=\"day-of-week\"\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>starting from</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<start date>\"\n\t\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span>at</span>\n\t\t\t\t\t\t\t\t{startTimeMode === \"specific-time\" ? (\n\t\t\t\t\t\t\t\t\t<TimePickerButton\n\t\t\t\t\t\t\t\t\t\ttime={startTime}\n\t\t\t\t\t\t\t\t\t\tonChange={handleStartTimeChange}\n\t\t\t\t\t\t\t\t\t\tid=\"start-time\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\t\t\tvalue={startTimeMode}\n\t\t\t\t\t\t\t\t\t\toptions={timeModeOptions}\n\t\t\t\t\t\t\t\t\t\tonChange={(v) => handleStartTimeModeChange(v as TimeMode)}\n\t\t\t\t\t\t\t\t\t\tid=\"start-time-mode\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span>to</span>\n\t\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\t\tdate={endDate}\n\t\t\t\t\t\t\tonChange={handleEndDateChange}\n\t\t\t\t\t\t\tplaceholder=\"<end date>\"\n\t\t\t\t\t\t\tid=\"end-date\"\n\t\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span>at</span>\n\t\t\t\t\t\t\t\t{endTimeMode === \"specific-time\" ? (\n\t\t\t\t\t\t\t\t\t<TimePickerButton\n\t\t\t\t\t\t\t\t\t\ttime={endTime}\n\t\t\t\t\t\t\t\t\t\tonChange={handleEndTimeChange}\n\t\t\t\t\t\t\t\t\t\tid=\"end-time\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\t\t\tvalue={endTimeMode}\n\t\t\t\t\t\t\t\t\t\toptions={timeModeOptions}\n\t\t\t\t\t\t\t\t\t\tonChange={(v) => handleEndTimeModeChange(v as TimeMode)}\n\t\t\t\t\t\t\t\t\t\tid=\"end-time-mode\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className=\"text-white/80 text-base leading-relaxed flex flex-wrap items-center gap-x-2 gap-y-2\">\n\t\t\t\t\t<span>Every</span>\n\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\tvalue={frequency}\n\t\t\t\t\t\toptions={frequencyOptions}\n\t\t\t\t\t\tonChange={(v) => handleFrequencyChange(v as FrequencyType)}\n\t\t\t\t\t\tid=\"frequency\"\n\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t/>\n\t\t\t\t\t<span>starting from</span>\n\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\tdate={startDate}\n\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\tplaceholder=\"<start date>\"\n\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t/>\n\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<span>-</span>\n\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\tvalue={startTimeMode}\n\t\t\t\t\t\t\t\toptions={timeModeOptions}\n\t\t\t\t\t\t\t\tonChange={(v) => handleStartTimeModeChange(v as TimeMode)}\n\t\t\t\t\t\t\t\tid=\"start-time-mode-specific\"\n\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{startTimeMode === \"specific-time\" && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span>at</span>\n\t\t\t\t\t\t\t\t\t<TimePickerButton\n\t\t\t\t\t\t\t\t\t\ttime={startTime}\n\t\t\t\t\t\t\t\t\t\tonChange={handleStartTimeChange}\n\t\t\t\t\t\t\t\t\t\tid=\"start-time-specific\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"<start time>\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<span>to</span>\n\t\t\t\t\t<DatePickerButton\n\t\t\t\t\t\tdate={endDate}\n\t\t\t\t\t\tonChange={handleEndDateChange}\n\t\t\t\t\t\tplaceholder=\"<end date>\"\n\t\t\t\t\t\tid=\"end-date\"\n\t\t\t\t\t\tdateMode={dateMode}\n\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t/>\n\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<span>-</span>\n\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\tvalue={endTimeMode}\n\t\t\t\t\t\t\t\toptions={timeModeOptions}\n\t\t\t\t\t\t\t\tonChange={(v) => handleEndTimeModeChange(v as TimeMode)}\n\t\t\t\t\t\t\t\tid=\"end-time-mode-specific\"\n\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{endTimeMode === \"specific-time\" && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span>at</span>\n\t\t\t\t\t\t\t\t\t<TimePickerButton\n\t\t\t\t\t\t\t\t\t\ttime={endTime}\n\t\t\t\t\t\t\t\t\t\tonChange={handleEndTimeChange}\n\t\t\t\t\t\t\t\t\t\tid=\"end-time-specific\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"<end time>\"\n\t\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"w-full\">\n\t\t\t{label && (\n\t\t\t\t<label className=\"block text-sm text-white/70 mb-2\">{label}</label>\n\t\t\t)}\n\n\t\t\t<Dialog.Root open={isOpen} onOpenChange={setIsOpen}>\n\t\t\t\t<Dialog.Trigger asChild>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-[4px] text-white/90 text-left hover:border-white/20 transition-all flex items-center gap-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Calendar className=\"w-4 h-4 text-white/60\" />\n\t\t\t\t\t\t<span className=\"flex-1\">{formatDisplayValue()}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</Dialog.Trigger>\n\n\t\t\t\t<Dialog.Portal>\n\t\t\t\t\t<Dialog.Overlay className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-9998\" />\n\t\t\t\t\t<Dialog.Content className=\"fixed w-fit max-w-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#2a2a2a] border border-white/10 rounded-lg shadow-2xl p-6 z-9999\">\n\t\t\t\t\t\t<Dialog.Title className=\"text-lg font-semibold text-white/90 mb-4\">\n\t\t\t\t\t\t\tSelect Date & Time\n\t\t\t\t\t\t</Dialog.Title>\n\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t{/* Event type selector */}\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"text-white/50 text-sm\">Event type:</span>\n\t\t\t\t\t\t\t\t<InlineSelect\n\t\t\t\t\t\t\t\t\tvalue={eventType}\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ value: \"single\", label: \"Single Event\" },\n\t\t\t\t\t\t\t\t\t\t{ value: \"recurring\", label: \"Recurring Event\" },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tonChange={(v) => handleEventTypeChange(v as EventType)}\n\t\t\t\t\t\t\t\t\tid=\"event-type\"\n\t\t\t\t\t\t\t\t\topenPopover={openPopover}\n\t\t\t\t\t\t\t\t\tsetOpenPopover={setOpenPopover}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Questionnaire sentence */}\n\t\t\t\t\t\t\t<div className=\"p-4 bg-black/20 rounded border border-white/5 min-h-[60px]\">\n\t\t\t\t\t\t\t\t{renderQuestionnaire()}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Summary */}\n\t\t\t\t\t\t\t{startDate && (\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-white/50 text-center pt-2 border-t border-white/5\">\n\t\t\t\t\t\t\t\t\t{eventType === \"single\" ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(startDate, \"MMMM dd, yyyy\")} at {time}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"date-only\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>{format(startDate, \"MMMM dd, yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"month-only\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>{format(startDate, \"MMMM yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"year-only\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>{format(startDate, \"yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{frequency === \"specific-day\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\tEvery {dayOfWeek} starting from{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(startDate, \"MMM dd\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{startTimeMode === \"all-day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"all day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: startTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<> to {format(endDate, \"MMM dd, yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{endTimeMode === \"all-day\" ? \"all day\" : endTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{frequency === \"weekends\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\tEvery weekend starting from{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(startDate, \"MMM dd\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{startTimeMode === \"all-day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"all day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: startTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<> to {format(endDate, \"MMM dd, yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{endTimeMode === \"all-day\" ? \"all day\" : endTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{(frequency === \"daily\" ||\n\t\t\t\t\t\t\t\t\t\t\t\tfrequency === \"weekly\" ||\n\t\t\t\t\t\t\t\t\t\t\t\tfrequency === \"monthly\") && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\tEvery {frequency === \"daily\" && \"day\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{frequency === \"weekly\" && \"week\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{frequency === \"monthly\" && \"month\"} starting from{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(startDate, \"MMM dd\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{startTimeMode === \"all-day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"all day\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: startTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<> to {format(endDate, \"MMM dd, yyyy\")}</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{endDate && dateMode === \"datetime\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{endTimeMode === \"all-day\" ? \"all day\" : endTime}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Actions */}\n\t\t\t\t\t\t<div className=\"flex justify-end gap-2 mt-6\">\n\t\t\t\t\t\t\t<Dialog.Close asChild>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-white/5 border border-white/10 rounded text-white/70 hover:bg-white/10 transition\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Dialog.Close>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={handleConfirm}\n\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Dialog.Content>\n\t\t\t\t</Dialog.Portal>\n\t\t\t</Dialog.Root>\n\t\t</div>\n\t);\n}\n"
    }
  ]
}